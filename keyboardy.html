<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Keyboardy - Sklep Muzyczny</title>
    <link rel="stylesheet" href="style.css">
    <script src="theme.js"></script>
</head>

<body>
    <!-- Header -->
    <div class="header">
        <div class="header-content">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="logo-icon" viewBox="0 0 16 16">
                    <path
                        d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13s1.12-2 2.5-2 2.5.896 2.5 2m9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2" />
                    <path fill-rule="evenodd" d="M14 11V2h1v9zM6 3v10H5V3z" />
                    <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4z" />
                </svg>
                <span class="logo-text">MusicStore</span>
            </div>

            <div class="nav-buttons">
                <button class="btn-icon btn-access" onclick="cycleFontSize()" title="Zmie≈Ñ rozmiar tekstu">A+</button>
                <button class="btn-icon"><img src="images/search.svg" class="icon" onerror="this.style.display='none'"> Szukaj</button>
                <button class="btn-icon">üë§ Konto</button>
                <button class="btn-icon" onclick="openCartModal()">üõí Koszyk (0)</button>
                <button class="btn-icon" id="themeToggle" onclick="toggleDarkMode()">üåô</button>
            </div>
        </div>
    </div>

    <div class="nav-categories">
        <div class="nav-categories-content">
            <a href="index.html" class="nav-item">Wszystkie</a>
            <a href="gitary.html" class="nav-item">Gitary</a>
            <a href="fortepiany.html"class="nav-item">Fortepiany</a>
            <a href="keyboardy.html"class="nav-item">Keyboardy</a>
            <div class="nav-item">Perkusja</div>
        </div>
    </div>

    <!-- Breadcrumb -->
    <div class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="index.html">Sklep</a> / <a href="keyboardy.html">Keyboardy</a> 
        </div>
    </div>

    <!-- Main Container -->
    <div class="products-container">
        <!-- Sidebar Filters -->
        <aside class="filters-sidebar">
            <div class="filters-header">
                <h3>üîç Filtry</h3>
            </div>

            <!-- Marka -->
            <div class="filter-group">
                <h4 class="filter-title">MARKA</h4>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" name="brand" value="casio" onchange="filterProducts()">
                        <span>Casio</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="brand" value="yamaha" onchange="filterProducts()">
                        <span>Yamaha</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="brand" value="korg" onchange="filterProducts()">
                        <span>Korg</span>
                    </label>
                </div>
            </div>

            <!-- Klawiatura -->
            <div class="filter-group">
                <h4 class="filter-title">KLAWIATURA</h4>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" name="type" value="dynamiczna" onchange="filterProducts()">
                        <span>Dynamiczna</span>
                    </label>
                </div>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" name="type" value="bez dynamiki" onchange="filterProducts()">
                        <span>Bez dynamiki</span>
                    </label>
                </div>
            </div>

            <!-- Cena -->
            <div class="filter-group">
                <h4 class="filter-title">CENA</h4>
                <div class="filter-options">
                    <label class="filter-checkbox">
                        <input type="checkbox" name="price" value="budget" onchange="filterProducts()">
                        <span>Poni≈ºej 1000 z≈Ç</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="price" value="mid" onchange="filterProducts()">
                        <span>1000 - 3000 z≈Ç</span>
                    </label>
                    <label class="filter-checkbox">
                        <input type="checkbox" name="price" value="premium" onchange="filterProducts()">
                        <span>Powy≈ºej 3000 z≈Ç</span>
                    </label>
                </div>
            </div>

            <!-- Przycisk filtr√≥w -->
            <button class="btn-filter" onclick="clearFilters()">Wyczy≈õƒá filtry</button>
        </aside>

        <!-- Main Content -->
        <main class="content-area">
            <div class="content-header">
                <h1 class="section-title"> Klasyczne</h1>
                <p class="result-count">Wynik√≥w: <span id="resultCount">9</span></p>
            </div>

            <div class="products-list" id="productsGrid">
                <!-- Produkty bƒôdƒÖ wstawione przez JavaScript -->
            </div>
        </main>
    </div>

    <!-- Modal Detail View -->
    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>

            <div class="modal-image" id="modalImage">‚ö°</div>

            <div class="modal-info">
                <h2 class="modal-title" id="modalTitle">Keyboard</h2>
                <p class="modal-specs" id="modalSpecs">Model: -</p>
                <p class="modal-price" id="modalPrice">0 z≈Ç</p>

                <p class="modal-description" id="modalDescription">Opis produktu</p>

                <div class="audio-section">
                    <label class="audio-label">üéµ Pos≈Çuchaj brzmienia</label>
                    <audio class="audio-player" controls>
                        <source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-1.mp3" type="audio/mpeg">
                        Twoja przeglƒÖdarka nie obs≈Çuguje odtwarzacza audio.
                    </audio>
                    <!-- tutaj w zaleznosci od tego jaki instrument dodamy krotka probe dzwiekowa TODO pozniej -->
                </div>

                <div class="modal-buttons">
                    <button class="btn-modal btn-buy" onclick="addToCart()">üõí Dodaj do koszyka</button>
                    <button class="btn-modal btn-close" onclick="closeModal()">Zamknij</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <div class="footer">
        <p class="footer-text">¬© 2025 MuzycznyShop. Wszystkie prawa zastrze≈ºone. | Dostawa w ca≈Çej Polsce | Gwarancja 2
            lata</p>
    </div>

    <script>
        const products = [
            { id: 1, name: 'Yamaha PSR E283', brand: 'Yamaha', type: 'Bez dynamiki', price: 550, specs: 'Model: PSR E283', desc: 'Keyboard przeznaczony dla dzieci oraz poczƒÖtkujƒÖcych, kt√≥ry wprowadzi Ciƒô w ≈õwiat wspania≈Çych emocji i zabawy.', image: 'images/yamaha-psr-e283.jpg' },
            { id: 2, name: 'Yamaha PSS E30', brand: 'Yamaha', type: 'Bez dynamiki', price: 300, specs: 'Model: PSS E30', desc: 'Bardzo dobre brzmienie, oraz klawiatura ma≈Çych rozmiar√≥w dopasowana pod ma≈Çe rƒÖczki.', image: 'images/yamaha-pss-e30.jpg' },
            { id: 3, name: 'Yamaha PSR SX600', brand: 'Yamaha', type: 'Dynamiczna', price: 2899, specs: 'Model: PSR SX600', desc: 'Profesjonalny keyboard oferujƒÖcy zdumiewajƒÖcy wachlarz g≈Ços√≥w, tryb√≥w pracy, narzƒôdzi.', image: 'images/yamaha-psr-sx600.jpg' },
            { id: 4, name: 'Korg EK 50', brand: 'Korg', type: 'Dynamiczna', price: 1600, specs: 'Model: EK 50', desc: 'Przystƒôpny cenowo, pe≈Çnowymiarowy 61-klawiszowy aran≈ºer Korga.', image: 'images/korg-ek-50.jpg' },
            { id: 5, name: 'Korg PA5X 76', brand: 'Korg', type: 'Dynamiczna', price: 15550, specs: 'Model: PA5X 76', desc: 'Rewolucyjny sprzƒôt z morzem mo≈ºliwo≈õci, zamkniƒôte w ≈õwietnie zaprojektowanej obudowie.', image: 'images/Korg-PA-5X-76-Oriental.jpg' },
            { id: 6, name: 'Korg PA 700', brand: 'Korg', type: 'Dynamiczna', price: 8999, specs: 'Model: PA 700', desc: '≈ÅƒÖczy kompaktowƒÖ konstrukcjƒô z niesamowicie naturalnymi d≈∫wiƒôkami i szerokƒÖ gamƒÖ styl√≥w muzycznych.', image: 'images/korg-pa700.jpg'},
            { id: 7, name: 'Casio SA 50', brand: 'Casio', type: 'Bez dynamiki', price: 299, specs: 'Model: SA 50', desc: 'Podstawowy sprzƒôt dla dzieci lub do nauki.', image: 'images/casio-sa-50.jpg' },
            { id: 8, name: 'Casio CTS1 BK', brand: 'Casio', type: 'Dynamiczna', price: 990, specs: 'Model: CTS1 BK', desc: 'Nowoczesna wersja kultowego Casiotone CT-201 z lat 80.', image: 'images/casio-ct-s1-bk.jpg' },
            { id: 9, name: 'Casio CTS200 RD', brand: 'Casio', type: 'Bez dynamiki', price: 650, specs: 'Model: CTS200 RD', desc: 'PosiadajƒÖcy 61 klawiszy i wygodny uchwyt do noszenia model CT-S200 zapewnia wspania≈Çe doznania.', image: 'images/casio-ct-s200-rd.jpg' }
        ];

        

        function displayProducts(filtered) {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';

            filtered.forEach(product => {
                const item = document.createElement('div');
                item.className = 'product-list-item';
                item.innerHTML = `
                   <img src="${product.image}" alt="${product.name}" class="product-list-image" style="object-fit: cover;">
                    <div class="product-list-info">
                        <div class="product-list-brand">${product.brand}</div>
                        <h3 class="product-list-name">${product.name}</h3>
                        <div class="product-list-price">${product.price} z≈Ç</div>
                        <button class="btn-details" onclick="openModal(${product.id})">Szczeg√≥≈Çy</button>
                    </div>
                `;
                grid.appendChild(item);
            });

            document.getElementById('resultCount').textContent = filtered.length;
        }

  const params = new URLSearchParams(window.location.search);
    const productId = params.get('product');

    if (productId) {
        const id = parseInt(productId);
        const productExists = products.some(p => p.id === id);

        if (productExists) {
            openModal(id);
        }
    }

        function filterProducts() {
            const selectedBrands = Array.from(document.querySelectorAll('input[name="brand"]:checked'))
                .map(cb => cb.value);

            const selectedTypes = Array.from(document.querySelectorAll('input[name="type"]:checked'))
                .map(cb => cb.value);

            const selectedPrices = Array.from(document.querySelectorAll('input[name="price"]:checked'))
                .map(cb => cb.value);

            let filtered = products;

            if (selectedBrands.length > 0) {
                filtered = filtered.filter(p => selectedBrands.some(b => p.brand.toLowerCase().includes(b.split('-').join(' '))));
            }

            if (selectedTypes.length > 0) {
                filtered = filtered.filter(p => selectedTypes.some(t => p.type.toLowerCase() === t.replace('-', ' ')));
            }

            if (selectedPrices.length > 0) {
                filtered = filtered.filter(p => {
                    if (selectedPrices.includes('budget') && p.price < 1000) return true;
                    if (selectedPrices.includes('mid') && p.price >= 1000 && p.price <= 3000) return true;
                    if (selectedPrices.includes('premium') && p.price > 3000) return true;
                    return false;
                });
            }

            displayProducts(filtered);
        }

        function openModal(productId) {
            const product = products.find(p => p.id === productId);
            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalSpecs').textContent = `${product.specs} | ${product.brand}`;
            document.getElementById('modalPrice').textContent = product.price + ' z≈Ç';
            document.getElementById('modalDescription').textContent = product.desc;

            // Wy≈õwietl zdjƒôcie JPG w modalu
            document.getElementById('modalImage').innerHTML = `<img src="${product.image}" alt="${product.name}" style="width: 100%; height: 100%; object-fit: contain;">`;

            document.getElementById('productModal').classList.add('show');
        }

        function closeModal() {
            document.getElementById('productModal').classList.remove('show');
        }

        function addToCart() {
            const productName = document.getElementById('modalTitle').textContent;
            alert(`‚úÖ "${productName}" dodana do koszyka!`);
            closeModal();
        }

        function clearFilters() {
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            filterProducts();
        }

        window.onclick = function (event) {
            const modal = document.getElementById('productModal');
            if (event.target === modal) {
                closeModal();
            }
        }

        displayProducts(products);
    </script>
    <script src="accessibility.js"></script>
</body>

</html>