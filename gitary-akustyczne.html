<!DOCTYPE html>
<html lang="pl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gitary Akustyczne - Sklep Muzyczny</title>
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">
                <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" class="logo-icon" viewBox="0 0 16 16">
                    <path d="M6 13c0 1.105-1.12 2-2.5 2S1 14.105 1 13s1.12-2 2.5-2 2.5.896 2.5 2m9-2c0 1.105-1.12 2-2.5 2s-2.5-.895-2.5-2 1.12-2 2.5-2 2.5.895 2.5 2"/>
                    <path fill-rule="evenodd" d="M14 11V2h1v9zM6 3v10H5V3z"/>
                    <path d="M5 2.905a1 1 0 0 1 .9-.995l8-.8a1 1 0 0 1 1.1.995V3L5 4z"/>
                </svg>
                <span class="logo-text">MusicStore</span>
            </div>
            <div class="nav-buttons">
                 <button class="btn-icon btn-access" id="btn-theme" onclick="toggleTheme()" title="Tryb Ciemny/Jasny">üåô</button>
                 <button class="btn-icon btn-access" onclick="cycleFontSize()" title="Zmie≈Ñ rozmiar tekstu">A+</button>

                <button class="btn-icon"><img src="images/search.svg" class="icon" onerror="this.style.display='none'"> Szukaj</button>
                <button class="btn-icon">üë§ Konto</button>
                <button class="btn-icon" onclick="openCartModal()">üõí Koszyk (0)</button>
            </div>
        </div>
    </div>

    <div class="nav-categories">
        <div class="nav-categories-content">
            <div class="nav-item"><a href="index.html">Wszystkie</a></div>
            <div class="nav-item active"><a href="gitary.html">Gitary</a></div>
            <div class="nav-item">Pianina</div>
            <div class="nav-item">Keyboardy</div>
            <div class="nav-item">Perkusja</div>
        </div>
    </div>

    <div class="breadcrumb">
        <div class="breadcrumb-content">
            <a href="index.html">Sklep</a> / <a href="gitary.html">Gitary</a> / <span>Akustyczne</span>
        </div>
    </div>

    <div class="products-container">
        <aside class="filters-sidebar">
            <div class="filters-header"><h3>üîç Filtry</h3></div>
            
            <div class="filter-group">
                <h4 class="filter-title">Marka</h4>
                <div class="filter-options">
                    <label class="filter-checkbox"><input type="checkbox" name="brand" value="harley-benton" onchange="filterProducts()"> <span>Harley Benton</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="brand" value="yamaha" onchange="filterProducts()"> <span>Yamaha</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="brand" value="fender" onchange="filterProducts()"> <span>Fender</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="brand" value="gibson" onchange="filterProducts()"> <span>Gibson</span></label>
                </div>
            </div>

            <div class="filter-group">
                <h4 class="filter-title">KSZTA≈ÅT PUD≈ÅA</h4>
                <div class="filter-options">
                    <label class="filter-checkbox"><input type="checkbox" name="type" value="dreadnought" onchange="filterProducts()"> <span>Dreadnought</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="type" value="jumbo" onchange="filterProducts()"> <span>Jumbo</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="type" value="concert" onchange="filterProducts()"> <span>Concert / Folk</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="type" value="parlor" onchange="filterProducts()"> <span>Parlor</span></label>
                </div>
            </div>

            <div class="filter-group">
                <h4 class="filter-title">CENA</h4>
                <div class="filter-options">
                    <label class="filter-checkbox"><input type="checkbox" name="price" value="budget" onchange="filterProducts()"> <span>Poni≈ºej 500 z≈Ç</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="price" value="mid" onchange="filterProducts()"> <span>500 - 2000 z≈Ç</span></label>
                    <label class="filter-checkbox"><input type="checkbox" name="price" value="premium" onchange="filterProducts()"> <span>Powy≈ºej 2000 z≈Ç</span></label>
                </div>
            </div>

            <button class="btn-filter" onclick="clearFilters()">Wyczy≈õƒá filtry</button>
        </aside>

        <main class="content-area">
            <div class="content-header">
                <h1 class="section-title">üé∏ Gitary Akustyczne</h1>
                <p class="result-count">Wynik√≥w: <span id="resultCount">0</span></p>
            </div>
            <div class="products-list" id="productsGrid"></div>
        </main>
    </div>

    <div id="productModal" class="modal">
        <div class="modal-content">
            <span class="close-btn" onclick="closeModal()">&times;</span>
            <div class="modal-layout">
                <div class="modal-image-box" id="modalImage"></div>
                <div class="modal-info">
                    <h2 class="modal-title" id="modalTitle"></h2>
                    <p class="modal-specs" id="modalSpecs"></p>
                    <p class="modal-price" id="modalPrice"></p>
                    <p class="modal-description" id="modalDescription"></p>
                    <div class="audio-section">
                        <label class="audio-label">üéµ Pos≈Çuchaj brzmienia</label>
                        <audio class="audio-player" controls style="width:100%"><source src="https://www.soundhelix.com/examples/mp3/SoundHelix-Song-8.mp3" type="audio/mpeg"></audio>
                    </div>
                    <div class="modal-buttons">
                        <button class="btn-modal btn-buy" onclick="addToCartFromModal()">üõí Dodaj do koszyka</button>
                        <button class="btn-modal btn-close" onclick="closeModal()">Zamknij</button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <div id="cartModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <span class="close-btn" onclick="closeCartModal()">&times;</span>
            <h2 class="section-title" style="font-size: 24px;">Tw√≥j Koszyk</h2>
            <div id="cartItemsContainer" class="cart-items-list"></div>
            <div class="cart-summary">
                <span>Suma:</span>
                <span id="cartTotalDisplay">0 z≈Ç</span>
            </div>
            <div class="modal-buttons">
                <button class="btn-modal btn-buy" onclick="checkout()">‚úÖ Zamawiam</button>
                <button class="btn-modal btn-close" onclick="closeCartModal()">Wr√≥ƒá</button>
            </div>
        </div>
    </div>

    <script src="cart.js"></script>
    <script src="accessibility.js"></script>
    <script>
        const products = [
            { id: 101, name: 'Harley Benton D-120NT', brand: 'Harley Benton', type: 'Dreadnought', price: 329, specs: '≈öwierk/Maho≈Ñ', desc: 'Dobra na start.', image: 'images/hb_d120.jpg' },
            { id: 102, name: 'Yamaha F310', brand: 'Yamaha', type: 'Dreadnought', price: 649, specs: 'Legenda', desc: 'Klasyka gatunku.', image: 'images/yamaha_f310.jpg' },
            { id: 103, name: 'Fender CD-60S', brand: 'Fender', type: 'Dreadnought', price: 999, specs: 'Solid Top', desc: 'Lita p≈Çyta.', image: 'images/fender_cd60s.jpg' },
            { id: 104, name: 'Taylor 214ce', brand: 'Taylor', type: 'Concert', price: 4999, specs: 'Kszta≈Çt: Grand Auditorium', desc: 'Profesjonalny instrument.', image: 'images/taylor_214.jpg' },
            { id: 105, name: 'Gibson SJ-200', brand: 'Gibson', type: 'Jumbo', price: 22000, specs: 'Super Jumbo', desc: 'Kr√≥l gitar akustycznych.', image: 'images/gibson_sj200.jpg' }
        ];

        let currentProductId = null;

        function displayProducts(filtered) {
            const grid = document.getElementById('productsGrid');
            grid.innerHTML = '';
            filtered.forEach(product => {
                const placeholder = `https://placehold.co/400x400/EEE/31343C?text=${encodeURIComponent(product.name)}`;
                const item = document.createElement('div');
                item.className = 'product-list-item';
                item.innerHTML = `
                    <img src="${product.image}" onerror="this.src='${placeholder}'" class="product-list-image">
                    <div class="product-list-info">
                        <div class="product-list-brand">${product.brand}</div>
                        <h3 class="product-list-name">${product.name}</h3>
                        <div class="product-list-price">${product.price} z≈Ç</div>
                        <button class="btn-details" onclick="openProductModal(${product.id})">Szczeg√≥≈Çy</button>
                    </div>
                `;
                grid.appendChild(item);
            });
            document.getElementById('resultCount').textContent = filtered.length;
        }

        function filterProducts() {
            const brands = Array.from(document.querySelectorAll('input[name="brand"]:checked')).map(cb => cb.value);
            const types = Array.from(document.querySelectorAll('input[name="type"]:checked')).map(cb => cb.value);
            const prices = Array.from(document.querySelectorAll('input[name="price"]:checked')).map(cb => cb.value);

            let filtered = products;

            if (brands.length > 0) filtered = filtered.filter(p => brands.some(b => p.brand.toLowerCase().includes(b)));
            if (types.length > 0) filtered = filtered.filter(p => types.some(t => p.type.toLowerCase().includes(t)));
            
            if (prices.length > 0) {
                filtered = filtered.filter(p => {
                    if (prices.includes('budget') && p.price < 500) return true;
                    if (prices.includes('mid') && p.price >= 500 && p.price <= 2000) return true;
                    if (prices.includes('premium') && p.price > 2000) return true;
                    return false;
                });
            }

            displayProducts(filtered);
        }

        function clearFilters() {
            document.querySelectorAll('input[type="checkbox"]').forEach(cb => cb.checked = false);
            filterProducts();
        }

        function openProductModal(id) {
            currentProductId = id;
            const product = products.find(p => p.id === id);
            document.getElementById('modalTitle').textContent = product.name;
            document.getElementById('modalSpecs').textContent = product.specs;
            document.getElementById('modalPrice').textContent = product.price + ' z≈Ç';
            document.getElementById('modalDescription').textContent = product.desc;
            
            const placeholder = `https://placehold.co/600x600/EEE/31343C?text=${encodeURIComponent(product.name)}`;
            document.getElementById('modalImage').innerHTML = `<img src="${product.image}" onerror="this.src='${placeholder}'">`;
            
            document.getElementById('productModal').classList.add('show');
        }

        function closeModal() { document.getElementById('productModal').classList.remove('show'); }

        function addToCartFromModal() {
            if(!currentProductId) return;
            const product = products.find(p => p.id === currentProductId);
            addToCartGlobal(product.id, product.name, product.price, product.image);
            closeModal();
        }

        displayProducts(products);
    </script>
</body>
</html>